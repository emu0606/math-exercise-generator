# 新手工程師視角 - 開發指南問題分析報告

> **場景**: 第一次接觸專案的工程師，被要求開發「多項式計算練習生成器」
> **分析日期**: 2025-10-01
> **分析者角色**: 模擬新手工程師閱讀體驗

---

## 📖 閱讀流程記錄

### 階段1: 索引導航 (開發指南索引.md)

**✅ 清楚明確的部分**:
- 角色導航很好，我知道自己是「教師開發者」
- 明確指引從「生成器開發指南.md」開始
- 典範生成器分類清楚（入門/中級/進階）
- 預計學習時間有幫助（30分鐘~3小時）

**❓ 產生的疑問**:
1. 「多項式計算練習」屬於哪個 category？
   - 索引沒有說明 `generators/category/` 的 category 有哪些選項
   - 我應該放在 `algebra` 還是創建新的 `polynomial` 資料夾？

2. 典範生成器的對應關係不明確
   - 「多項式計算」跟「三角反函數」或「雙重根號」哪個更相似？
   - 缺乏「題型特徵 → 推薦範例」的對照表

---

### 階段2: 主要開發指南閱讀 (生成器開發指南.md)

#### 第1章 - 開發流程

**✅ 好的部分**:
- 最小骨架代碼很實用
- 5步驟流程清楚

**🔴 卡關點 #1: 檔案路徑決策**
```python
# 指南說：在 generators/category/ 下建立 .py 檔案
# 但我不知道：
# - 目前有哪些 category 資料夾？
# - 我該用現有的還是創建新的？
# - 檔案命名規範是什麼？snake_case 還是 PascalCase？
```

**建議補充**:
```markdown
### 第一步：決定類別資料夾

**現有類別資料夾**:
- `algebra/` - 代數運算（根式、因式分解、多項式）
- `trigonometry/` - 三角函數相關
- `geometry/` - 幾何圖形
- `calculus/` - 微積分

**檔案命名規範**:
- 使用 snake_case：`polynomial_calculation.py`
- 類別名稱用 PascalCase：`PolynomialCalculationGenerator`

**多項式計算範例**:
- 類別資料夾：`generators/algebra/`
- 檔案名稱：`polynomial_calculation.py`
- 類別名稱：`PolynomialCalculationGenerator`
```

#### 第3章 - 題目取值方案設計

**✅ 好的部分**:
- 三種策略講解清楚
- 範例代碼實用

**🔴 卡關點 #2: 策略選擇困難**

**我的題型**: 多項式計算（如 (x+2)(x+3) 的展開）

**我的困惑**:
1. 這三種策略哪個適合？
   - 不算「複雜計算」→ 不是答案逆推法？
   - 沒有「固定標準答案」→ 不是預建清單法？
   - 看起來像「限制隨機」，但範例只有分數...

2. 多項式的「數值範圍」該怎麼設計？
   - 係數範圍？-5~5？還是1~10？
   - 要避免什麼情況？（0係數？1係數？）
   - 次數限制？（一次？二次？）

**建議補充**:
在「取值方案選擇指南」後面增加「常見題型範例」：

```markdown
### 常見題型策略範例

#### 多項式展開/因式分解
**推薦策略**: 答案逆推法
**原因**: 從簡潔因式形式逆推，確保答案可因式分解
**範例**:
```python
# 預建簡潔因式清單
self.factor_templates = [
    (1, 2, 1, 3),  # (x+2)(x+3) = x²+5x+6
    (1, -2, 1, 3), # (x-2)(x+3) = x²+x-6
    # ...
]

# 從清單選擇，保證可因式分解
a1, b1, a2, b2 = random.choice(self.factor_templates)
```

#### 算術數列求和
**推薦策略**: 限制隨機法
**原因**: 計算簡單，重視變化性
**參數範圍**:
- 首項 a: -10 ~ 10
- 公差 d: -5 ~ 5 (避免0)
- 項數 n: 5 ~ 20
```

#### 第4章 - 抽象方法實作

**🔴 卡關點 #3: 分類系統困惑**

閱讀到 `get_category()` 時的疑問：

```python
def get_category(self):
    return "你的主類別"  # 🤔 多項式該選哪個？
```

**指南提供的選項**:
- "數與式" - 數與代數運算
- "多項式函數" - 多項式相關題型

**我的困惑**:
1. 「多項式展開」算「數與式」還是「多項式函數」？
2. 「多項式因式分解」呢？
3. 如果我選「多項式函數」，在UI會顯示成什麼樣子？

**🔴 卡關點 #4: grade 格式理解**

```python
def get_grade(self):
    return "G10S1"  # 格式: G年級S學期
```

**困惑**:
- 多項式展開是國中還是高中？
- 如果跨年級（國三~高一都教），該怎麼標？
- 只能回傳一個 grade 嗎？

**建議補充**:
```markdown
#### `get_grade()`: 年級標註指南

**格式**: `G年級S學期`

**標準對照表**:
| 年級 | 代碼 | 學習重點 |
|------|------|---------|
| 國三 | G9S1/G9S2 | 因式分解、多項式基礎 |
| 高一上 | G10S1 | 多項式函數、餘式定理 |
| 高一下 | G10S2 | 多項式方程式 |

**跨年級題目處理**:
- 選擇「主要教學年級」（最常使用的年級）
- 多項式展開（國三~高一）→ 建議標 `G9S2`
- 因式分解進階（高一）→ 標 `G10S1`
```

---

### 階段3: 典範代碼閱讀

**✅ 好的部分**:
- InverseTrigonometricFunctionGenerator 註解很詳細
- 代碼結構清楚

**🔴 卡關點 #5: 典範代碼與我的題型差距**

**典範特徵**:
- 預建特殊角度清單 → 我的多項式沒有「特殊值」
- 三角函數值計算 → 我的多項式是「符號運算」
- 使用 sympy 計算數值 → 我需要 sympy 展開多項式？

**缺少的範例**:
- 沒有「符號運算型」生成器範例（多項式、因式分解）
- 沒有「組合參數型」範例（需要多個係數配合）

**建議**:
在「典範生成器參考地圖」中增加分類：

```markdown
### 按題型特徵分類

#### 數值計算型
- InverseTrigonometricFunctionGenerator - 特殊值清單
- 適合：三角函數、對數運算

#### 符號運算型
- PolynomialExpansionGenerator（待建立）- 多項式展開
- 適合：因式分解、代數化簡

#### 組合約束型
- DoubleRadicalSimplificationGenerator - 預篩選組合
- 適合：需要多參數配合的題型
```

---

## 🎯 主要問題總結

### 問題1: 缺少「第一步決策流程圖」

**現況**: 指南直接給骨架代碼
**問題**: 新手不知道如何做出最初的設計決策

**建議增加**:
```markdown
## 開始前的5個決策問題

回答以下問題，確定生成器的基本架構：

1️⃣ **我的題型屬於哪個類別？**
   - [ ] 代數運算 → `generators/algebra/`
   - [ ] 三角函數 → `generators/trigonometry/`
   - [ ] 幾何圖形 → `generators/geometry/`

2️⃣ **我的題目需要配圖嗎？**
   - [ ] 需要 → 閱讀第6章「圖形數據整合」
   - [ ] 不需要 → 跳過圖形相關章節

3️⃣ **我的題目屬於哪種類型？**
   - [ ] 數值計算（答案是數字）→ 參考 InverseTrigonometricFunctionGenerator
   - [ ] 符號運算（答案是式子）→ 參考 DoubleRadicalSimplification
   - [ ] 多步驟推理 → 參考 TrigonometricFunctionGenerator

4️⃣ **我的題目有數學約束嗎？**
   - [ ] 無約束 → 使用限制隨機法
   - [ ] 簡單約束 → 加上驗證邏輯
   - [ ] 複雜約束 → 使用預篩選策略

5️⃣ **需要教師調整參數嗎？**
   - [ ] 需要 → 實作 get_config_schema()
   - [ ] 不需要 → 跳過配置系統
```

### 問題2: category/subcategory 選擇指南不足

**現況**: 列出所有可用分類，但沒說明如何選擇
**問題**: 新手面對10+個分類不知道怎麼選

**建議補充**:
```markdown
### 分類選擇實例

#### 範例1: 多項式展開 (x+2)(x+3)
- **category**: "數與式"（因為是代數運算基礎）
- **subcategory**: "多項式展開"
- **grade**: "G9S2"（國三下學期）

#### 範例2: 多項式除法與餘式定理
- **category**: "多項式函數"（涉及函數概念）
- **subcategory**: "餘式與因式定理"
- **grade**: "G10S1"（高一上學期）

#### 範例3: 一元二次方程配方法
- **category**: "數與式"
- **subcategory**: "方程式求解"
- **grade**: "G9S1"
```

### 問題3: LaTeX 格式化指導不足

**現況**: 只在錯誤排查章節簡單提到
**問題**: 新手不知道多項式、分數該怎麼寫

**建議補充**:
在第2章「新架構最佳實踐」後面增加：

```markdown
### LaTeX 格式化速查

#### 多項式
```python
# 展開式
question = "$x^2 + 5x + 6$"

# 因式形式
question = "$(x+2)(x+3)$"

# 含係數的一般式
a, b, c = 1, 5, 6
question = f"${a}x^2 + {b}x + {c}$"
```

#### 分數
```python
from sympy import latex, Rational

# 使用 sympy.Rational 確保正確格式
fraction = Rational(3, 4)
answer = f"${latex(fraction)}$"  # 輸出: $\frac{3}{4}$
```

#### 根號
```python
from sympy import sqrt, latex

# 根號
value = sqrt(2)
answer = f"${latex(value)}$"  # 輸出: $\sqrt{2}$
```

### 問題4: 典範代碼與題型對應表缺失

**現況**: 列出4個典範，但只有功能描述
**問題**: 新手不知道「我的題型」對應哪個典範

**建議補充**:
```markdown
## 典範生成器選擇指南

### 我的題型該參考哪個典範？

| 題型特徵 | 推薦典範 | 核心學習點 |
|---------|---------|-----------|
| 固定值清單（特殊角、標準值） | InverseTrigonometric | 預建清單、options.get() |
| 需要預篩選（組合約束） | DoubleRadical | _build_valid_combinations() |
| 多種題型模式切換 | TrigAngleConversion | percentage_group配置 |
| 複雜解題步驟 | TrigonometricFunction | EXPLANATION_TEMPLATES |

### 常見題型對應表

| 題型 | 推薦典範 | 原因 |
|------|---------|------|
| 多項式展開 | DoubleRadical | 需要係數組合約束 |
| 因式分解 | DoubleRadical | 答案逆推法 |
| 三角函數值 | InverseTrigonometric | 特殊角清單 |
| 角度轉換 | TrigAngleConversion | 多題型模式 |
| 一元二次方程 | InverseTrigonometric | 限制隨機+驗證 |
```

### 問題5: 驗證步驟缺乏具體指導

**現況**: 只說「執行 python main.py」
**問題**: 新手不知道如何驗證生成器是否正確

**建議補充**:
```markdown
### 驗證檢查清單

#### ✅ 階段1: 基礎驗證（5分鐘）

1. **檔案導入測試**
```bash
py -c "from generators.algebra.polynomial_calculation import PolynomialCalculationGenerator; print('✅ 導入成功')"
```

2. **生成器實例化測試**
```bash
py -c "
from generators.algebra.polynomial_calculation import PolynomialCalculationGenerator
gen = PolynomialCalculationGenerator()
print('✅ 實例化成功')
"
```

3. **單題生成測試**
```bash
py -c "
from generators.algebra.polynomial_calculation import PolynomialCalculationGenerator
gen = PolynomialCalculationGenerator()
q = gen.generate_question()
print('題目:', q['question'])
print('答案:', q['answer'])
print('✅ 生成成功')
"
```

#### ✅ 階段2: UI整合驗證（10分鐘）

1. 啟動主程式
```bash
python main.py
```

2. 檢查項目：
- [ ] 生成器出現在正確的類別選單中
- [ ] 點擊生成器能顯示配置UI（如果有）
- [ ] 生成題目能正確顯示LaTeX
- [ ] 批量生成10題無錯誤

#### ✅ 階段3: 數學正確性驗證（20分鐘）

手動驗證至少10題：
- [ ] 題目敘述清楚無歧義
- [ ] 答案數學上正確
- [ ] 解釋步驟邏輯正確
- [ ] 數值範圍符合教學需求
```

---

## 💡 改進建議優先級

### 🔴 高優先級（影響新手能否開始）

1. **增加「開始前的5個決策問題」** - 幫助新手做初始設計決策
2. **補充 category/subcategory 選擇實例** - 解決分類困惑
3. **增加「典範代碼與題型對應表」** - 快速找到相似範例

### 🟡 中優先級（影響開發效率）

4. **補充 LaTeX 格式化速查** - 減少格式錯誤
5. **增加具體驗證步驟** - 確保正確性

### 🟢 低優先級（錦上添花）

6. 增加更多題型的範例代碼
7. 增加常見錯誤的 troubleshooting

---

## 📊 整體評價

### 優點
- ✅ 結構清晰，章節劃分合理
- ✅ 典範代碼註解詳細
- ✅ 取值方案設計講解深入

### 主要問題
- ❌ 缺少「決策流程」指導
- ❌ 典範代碼與題型對應不明確
- ❌ 分類系統說明不足
- ❌ LaTeX 格式化指導分散

### 新手友善度評分
- **可讀性**: ⭐⭐⭐⭐ (4/5) - 文字清楚
- **可操作性**: ⭐⭐⭐ (3/5) - 缺少決策指引
- **完整性**: ⭐⭐⭐⭐ (4/5) - 技術細節充分
- **範例豐富度**: ⭐⭐⭐ (3/5) - 需要更多題型範例

**總評**: ⭐⭐⭐⭐ (3.5/5)

---

## 🎯 建議的閱讀流程優化

### 現行流程
1. 索引 → 開發指南 → 典範代碼 → 開始寫

### 建議流程
1. 索引
2. **【新增】開始前的5個決策問題** ⬅️ 確定基本方向
3. **【新增】題型與典範對應表** ⬅️ 找到最相似範例
4. 開發指南（跳過不相關章節）
5. 典範代碼（只看推薦的）
6. **【新增】驗證檢查清單** ⬅️ 確保正確性
7. 開始實作

---

**結論**: 指南內容豐富且專業，但對「第一次開發生成器的新手」來說，缺少「如何開始做決策」的指引。補充決策流程圖和題型對應表後，將大幅提升新手友善度。
